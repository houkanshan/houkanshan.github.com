<!DOCTYPE html><html lang="en"><head><title>Houkanshan's Blog</title><meta name="author" content="houkanshan"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" user-scalable="no"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link href="/atom.xml" rel="alternate" title="Houkanshan's Blog" type="application/atom+xml"><link rel="stylesheet" href="/css/index.css"><!--[if IE]>
  <script>
    (function(){var elements="abbr article aside audio canvas datalist details dialog eventsource figure footer header hgroup mark menu meter nav output progress section time video";elements.replace(/\w+/g,function(e){document.createElement(e)})})();
  </script>
<![endif]-->
<link href="/css/post.css" rel="stylesheet"></head><body class="theme-modern"><div id="top"></div><div class="wrapper"><header id="post-header" class="minor-header"><div class="header-wrapper hover-toggler-fade"><nav id="blog-header-nav"><ul class="nav-list"><li><a href="/posts/" title="Posts" class="nav-item">Posts</a></li><li><a href="/about/" title="About" class="nav-item">About</a></li></ul></nav><a href="/"><div class="when-hover"><h1 class="blog-title">Houkanshan’s Blog</h1></div></a></div></header><article id="post-content"><header id="post-content-header"><h2>git-repo</h2></header><article><div class="article-content"><p>很多人难免不得已用了两个系统，就像我这种什么都会点又什么都不会的类型。Windows上要做图、写Doc、调IE，反正多数是些非正业的事情，Linux上写代码。但是切换很麻烦，所有经常就顺便在Win上写了。本来是可以直接把代码放在Win的NTFS分区上两个系统都可以访问的，但是上次因为操作系统休眠的问题丢了代码(<a href="http://xiaoxia.org/2011/07/29/linuxwindows-dual-system-of-sleep-function-almost-put-the-files-on-the-ntfs-lost">跟这个同学情况类似</a>)
，就决定在两个系统上分别放代码了。</p>
<p>一个同步的办法是用github，但是最近感觉开发中的代码最好还是不要没事就push一下，容易刷屏。但是要同步又必须是即时的，于是觉得应该可以直接在本地push/pull。</p>
<p>git可以很方便的在本地push/pull而不需要daemon进程，直接git init --bare就可以了。但这样创建的版本库只有.git目录，没有工作时的代码(working dir)。在上面用通常的方法做push/pull一类操作都会提示“This operation must be run in a work tree”</p>
<p>开始是觉得一个git库因该是可以同时做Server和Client的，也就是在linux上往windows上的库直接push,尝试之后发现不行，因为在Client所有的push和pull都是主动的操作，Server都是被动接受的，同时一个Client是不应该有被动的行为的，所以也就是不能同时有两个角色。</p>
<p>虽然可以通过一些很不正常的方法让server也获得代码并临时变成client再往远程push。但毕竟很丑陋。。。</p>
<p>在NTFS上为了同步再加个repository，init为bare。在本地先push到这里，在有必要的时候再push到github上。</p>
<p><img src="/img/git-repo.png" alt="示意图"></p>
<p>虽然有时候需要push两次，但是我觉得对于我这种情况，这的确是必要的步骤。</p>
<p>git真灵活～赞美。。。</p>
<hr>
<p>又改了点样式，我表示这个主题是不是太烂了点啊。。。</p>
</div><footer><span class="date">2012-04-16</span></footer></article><footer id="post-content-footer"><div class="row-half"><a href="/posts/2012/06/14/after-read-bootstrap/" class="next post-switcher"><label>Next</label><h4 class="title"><span>after-read-bootstrap</span></h4></a></div><div class="row-half"><a href="/posts/2012/04/14/dt_status/" class="prev post-switcher"><label>Prev</label><h4 class="title"><span>dt_status</span></h4></a></div></footer></article><footer id="post-footer" class="main-footer"><div class="footer-wrapper"><a href="#top"><span class="top-button">Top</span></a><nav id="blog-footer-nav"><ul class="nav-list"><li><a href="/posts/" title="Posts" class="nav-item">Posts</a></li><li><a href="/about/" title="About" class="nav-item">About</a></li></ul></nav></div></footer></div><script src="/js/core.js"></script><script src="/js/post.js"></script><script>var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-30636693-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></body></html>